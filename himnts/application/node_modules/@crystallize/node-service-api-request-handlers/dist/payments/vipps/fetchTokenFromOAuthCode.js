"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.fetchVippsTokenFromOAuthCode = void 0;
const client_1 = require("./client");
const fetchVippsTokenFromOAuthCode = async (code, redirectUri, credentials) => {
    const client = await (0, client_1.createClient)({
        ...credentials,
        fetchToken: false,
        oauthConnect: true,
    });
    const result = await client.formEncodedPost(`/access-management-1.0/access/oauth2/token`, {
        grant_type: 'authorization_code',
        code,
        redirect_uri: redirectUri,
    }, '');
    return result.access_token;
};
exports.fetchVippsTokenFromOAuthCode = fetchVippsTokenFromOAuthCode;
//# sourceMappingURL=fetchTokenFromOAuthCode.js.map